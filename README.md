# Simple DB Backup

## Описание

Simple DB Backup помогает автоматически делать бэкапы Postgres БД, которая запущена в докере. Файл с бэкапом отправляет в ЛС чат телеграмма. 

## Настройка и запуск

В `.env.example` перечислены переменные, которые нужно заполнить в вашем файле `.env`.


1) В BotFather создать бота и скопировать API токен в `TOKEN` файла `.env`. 
2) Чтобы узнать свой `CHAT_ID`:
    - Перейти по ссылке `https://api.telegram.org/bot<BOT_TOKEN>/getUpdates`
    - Отправить что-то боту
    - Скопировать `chat.id` в переменную `CHAT_ID` 
3) Значения переменных `CONTAINER_NAME`, `DB_NAME`, `DB_USER`, `BACKUP_DIR` индивидуальны
4) В `run.sh` указать ПОЛНЫЕ пути до исполняемого файла `main.py` и до интерпретатора
5) Сделать файл исполняемым `chmod +x /path/to/run.sh`
6) Добавить крон задачу `crontab -e`
7) В файл вставить `0 3 * * * /path/to/run.sh >> /path/to/backup.log 2>&1`

Готово
 